# 필요 없는 검사 예외 사용은 피하라

<br>

> 검사 예외는 프로그램의 안정성을 높여주지만 남용하면 API 사용자에게 부담

<br>

## 검사 예외를 사용하는 경우

---

### 검사 예외를 사용하면 안정성이 높아짐

 - API를 제대로 사용해도 발생할 수 있는 예외
 - 예외 상황을 복구할 수 있음
 - 호출자가 예외 상황을 처리하길 원함

<br>

## 검사 예외의 단점

---

### 이미 다른 검사 예외가 있다면 catch문 하나만 추가하면 되지만 검사 예외가 단 하나라면 아래의 단점이 발생

 - 호출하는 코드에서 처리 필요(catch 블럭, 예외 던짐)
 - 메서드를 스트림에서 사용할 수 없음

<br>

## 검사 예외를 회피하는 방법

---

### 검사 예외를 회피하면 예외 종류와 예외에 대한 부가 정보를 전달할 수 없음

 - 빈 옵셔널 반환
 - 상태 검사 메서드와 비검사 예외를 던지도록 리팩터링
   * 아래와 같은 경우 상태 검사 메서드를 사용하지 않는 것이 좋음
   * 외부 동기화 없이 여러 스레드가 동시에 접근 가능
   * 외부 요인에 의해 상태가 변경 가능
   * 중복 수행에 따른 성능 감소
 - 실패 시 스레드 중단 혹은 성공이 확실한 메서드라면 예외처리를 하지 않음

<br>

```java
// 검사 예외
try {
  obj.action(args);
} catch (TheCheckedException e) {
  e.printStackTrace();
}

// 상태 검사 메서드
if (obj.actionPermitted(args)) {
  obj.action(args);
} else {
  System.out.println("Action is not permitted.");
  // 빈옵셔널을 반환할 수도 있음
  return Optional.empty();
}

// 실패 시 스레드 중단 혹은 성공이 확실한 메서드
obj.action(args);
```
